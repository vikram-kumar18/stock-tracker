{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet HomeComponent = class HomeComponent {\n  constructor(StockService, spinner, nnerService) {\n    this.StockService = StockService;\n    this.spinner = spinner;\n    this.name = '';\n    this.stockList = [];\n    this.comapnyName = '';\n    let pData = this.StockService.getFromLocalStorage('stockList');\n    this.stockList = JSON.parse(pData);\n  }\n  trackStock() {\n    this.spinner.show();\n    this.StockService.getCompanyName(this.name).subscribe(data => {\n      if (data.result.length > 0) {\n        let comapnyName = data.result[0].description;\n        this.getStockQuotedData(comapnyName);\n      }\n    });\n  }\n  getStockQuotedData(comapnyName) {\n    this.StockService.getStockQuotedData(this.name).subscribe(data => {\n      let obj = {\n        companyName: comapnyName,\n        changeToday: data.d,\n        openingPrice: data.o,\n        curentPrice: data.c,\n        highPrice: data.h,\n        name: this.name\n      };\n      this.stockList.push(obj);\n      this.StockService.setToLocalStorage('stockList', JSON.stringify(this.stockList));\n      ;\n      this.name = '';\n      this.spinner.hide();\n    });\n  }\n  removeStock(index) {\n    this.stockList.splice(index, 1);\n    this.StockService.setToLocalStorage('stockList', JSON.stringify(this.stockList));\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAWlC,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAIxBC,YAAoBC,YAA2B,EAAUC,OAAe,EAACC,WAAW;IAAhE,iBAAY,GAAZF,YAAY;IAAyB,YAAO,GAAPC,OAAO;IAHhE,SAAI,GAAU,EAAE;IAChB,cAAS,GAAe,EAAE;IAC1B,gBAAW,GAAU,EAAE;IAErB,IAAIE,KAAK,GAAU,IAAI,CAACH,YAAY,CAACI,mBAAmB,CAAC,WAAW,CAAC;IACrE,IAAI,CAACC,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACJ,KAAK,CAAC;EACpC;EAEAK,UAAU;IACR,IAAI,CAACP,OAAO,CAACQ,IAAI,EAAE;IACnB,IAAI,CAACT,YAAY,CAACU,cAAc,CAAC,IAAI,CAACC,IAAI,CAAC,CAACC,SAAS,CAAEC,IAAgB,IAAI;MACzE,IAAGA,IAAI,CAACC,MAAM,CAACC,MAAM,GAAC,CAAC,EAAC;QACtB,IAAIC,WAAW,GAAGH,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAACG,WAAW;QAC5C,IAAI,CAACC,kBAAkB,CAACF,WAAW,CAAC;;IAExC,CAAC,CAAC;EAGJ;EAEAE,kBAAkB,CAACF,WAAkB;IACnC,IAAI,CAAChB,YAAY,CAACkB,kBAAkB,CAAC,IAAI,CAACP,IAAI,CAAC,CAACC,SAAS,CAAEC,IAAc,IAAI;MAC3E,IAAIM,GAAG,GAAG;QACRC,WAAW,EAAGJ,WAAW;QACzBK,WAAW,EAAGR,IAAI,CAACS,CAAC;QACpBC,YAAY,EAAGV,IAAI,CAACW,CAAC;QACrBC,WAAW,EAAGZ,IAAI,CAACa,CAAC;QACpBC,SAAS,EAAId,IAAI,CAACe,CAAC;QACnBjB,IAAI,EAAE,IAAI,CAACA;OACZ;MACD,IAAI,CAACN,SAAS,CAACwB,IAAI,CAACV,GAAG,CAAC;MACxB,IAAI,CAACnB,YAAY,CAAC8B,iBAAiB,CAAC,WAAW,EAAExB,IAAI,CAACyB,SAAS,CAAC,IAAI,CAAC1B,SAAS,CAAC,CAAC;MAAC;MACjF,IAAI,CAACM,IAAI,GAAC,EAAE;MACZ,IAAI,CAACV,OAAO,CAAC+B,IAAI,EAAE;IACrB,CAAC,CAAC;EACJ;EAEAC,WAAW,CAACC,KAAY;IACtB,IAAI,CAAC7B,SAAS,CAAC8B,MAAM,CAACD,KAAK,EAAC,CAAC,CAAC;IAC9B,IAAI,CAAClC,YAAY,CAAC8B,iBAAiB,CAAC,WAAW,EAAExB,IAAI,CAACyB,SAAS,CAAC,IAAI,CAAC1B,SAAS,CAAC,CAAC;EAClF;CACD;AA1CYP,aAAa,eALzBD,SAAS,CAAC;EACTuC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,GACWxC,aAAa,CA0CzB;SA1CYA,aAAa","names":["Component","HomeComponent","constructor","StockService","spinner","nnerService","pData","getFromLocalStorage","stockList","JSON","parse","trackStock","show","getCompanyName","name","subscribe","data","result","length","comapnyName","description","getStockQuotedData","obj","companyName","changeToday","d","openingPrice","o","curentPrice","c","highPrice","h","push","setToLocalStorage","stringify","hide","removeStock","index","splice","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\vikram\\stock-tracker\\src\\app\\components\\home\\home.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { QuoteData } from 'src/app/models/quote-data.model';\nimport { StockList } from 'src/app/models/stock-list.model';\nimport { StockSearch } from 'src/app/models/stock-search.model';\nimport { StockService } from 'src/app/services/stock.service';\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent {\n  name:string = '';\n  stockList:StockList[] = [];\n  comapnyName:string = '';\n  constructor(private StockService : StockService, private spinner: NgxSpi nnerService){\n    let pData:string = this.StockService.getFromLocalStorage('stockList')\n    this.stockList = JSON.parse(pData);\n  }\n\n  trackStock(){\n    this.spinner.show();\n    this.StockService.getCompanyName(this.name).subscribe((data:StockSearch) => {\n      if(data.result.length>0){\n        let comapnyName = data.result[0].description;\n        this.getStockQuotedData(comapnyName);\n      }\n    })\n\n\n  }\n\n  getStockQuotedData(comapnyName:string){\n    this.StockService.getStockQuotedData(this.name).subscribe((data:QuoteData) => {\n      let obj = {\n        companyName : comapnyName,\n        changeToday : data.d,\n        openingPrice : data.o,\n        curentPrice : data.c,\n        highPrice  : data.h,\n        name: this.name\n      }\n      this.stockList.push(obj)\n      this.StockService.setToLocalStorage('stockList', JSON.stringify(this.stockList));;\n      this.name='';\n      this.spinner.hide();\n    })\n  }\n\n  removeStock(index:number){\n    this.stockList.splice(index,1);\n    this.StockService.setToLocalStorage('stockList', JSON.stringify(this.stockList))\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}